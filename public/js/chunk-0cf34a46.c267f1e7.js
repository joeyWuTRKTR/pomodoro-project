(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0cf34a46"],{"0e4c":function(t,e,n){"use strict";n("3220")},3220:function(t,e,n){},"762c":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container py-5"},[n("NavTab"),n("h1",[t._v("Report")]),n("table",{staticClass:"table"},[t._m(0),n("tbody",t._l(t.tasks,(function(e,a){return n("tr",{key:e.id},[n("th",{staticClass:"text-right",attrs:{scope:"row"}},[t._v(t._s(a+1))]),n("td",{staticClass:"position-relative"},[n("div",{directives:[{name:"show",rawName:"v-show",value:!e.isEditing,expression:"!task.isEditing"}],staticClass:"task-name"},[t._v(t._s(e.name))]),n("input",{directives:[{name:"show",rawName:"v-show",value:e.isEditing,expression:"task.isEditing"},{name:"model",rawName:"v-model",value:e.name,expression:"task.name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.name},on:{input:function(n){n.target.composing||t.$set(e,"name",n.target.value)}}}),n("span",{directives:[{name:"show",rawName:"v-show",value:e.isEditing,expression:"task.isEditing"}],staticClass:"cancel",on:{click:function(n){return n.stopPropagation(),n.preventDefault(),t.cancelIsEditing(e._id)}}},[t._v("x")])]),n("td",[t._v(t._s(e.period)+" mins")]),n("td",{},[n("button",{directives:[{name:"show",rawName:"v-show",value:!e.isEditing,expression:"!task.isEditing"}],staticClass:"btn btn-outline-primary",on:{click:function(n){return n.stopPropagation(),n.preventDefault(),t.toggleIsEditing(e._id)}}},[t._v("edit")]),n("button",{directives:[{name:"show",rawName:"v-show",value:e.isEditing,expression:"task.isEditing"}],staticClass:"btn btn-outline-info ml-2",on:{click:function(n){return n.stopPropagation(),n.preventDefault(),t.updateTask(e._id)}}},[t._v("save")]),n("button",{staticClass:"btn btn-outline-danger ml-2",on:{click:function(n){return n.stopPropagation(),n.preventDefault(),t.deleteTask(e._id)}}},[t._v("x")])])])})),0)])],1)},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",{staticClass:"bg-warning"},[n("tr",[n("th",{staticClass:"text-right",attrs:{scope:"col",width:"60"}},[t._v("#")]),n("th",{attrs:{scope:"col"}},[t._v("Task")]),n("th",{attrs:{scope:"col",width:"90"}},[t._v("Period")]),n("th",{attrs:{scope:"col",width:"210"}},[t._v("Action")])])])}],r=n("5530"),i=n("1da1"),c=(n("96cf"),n("d81d"),n("4de4"),n("d3b7"),n("b0c0"),n("8bb1")),o=n("bc3a"),u=n.n(o),d={components:{NavTab:c["a"]},data:function(){return{id:-1,tasks:[]}},created:function(){this.fetchTasks()},methods:{fetchTasks:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.get("/");case 3:n=e.sent,a=n.data,t.tasks=a.tasks.map((function(t){return Object(r["a"])(Object(r["a"])({},t),{},{isEditing:!1,nameCached:""})})),console.log(t.tasks),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log("error",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()},deleteTask:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,u()({method:"delete",url:"tasks/:id",data:{id:t}});case 3:e.tasks=e.tasks.filter((function(e){return e._id!==t})),n.next=9;break;case 6:n.prev=6,n.t0=n["catch"](0),console.log("error",n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))()},updateTask:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var a,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.toggleIsEditing(t),a=e.tasks.filter((function(e){return e._id===t})),s=a[0].name,n.next=5,u()({method:"put",url:"tasks/".concat(t),data:{name:s}}).then((function(t){return console.log(t)}));case 5:case"end":return n.stop()}}),n)})))()},toggleIsEditing:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.tasks=e.tasks.map((function(e){return e._id===t?Object(r["a"])(Object(r["a"])({},e),{},{isEditing:!e.isEditing,nameCached:e.name}):e}));case 1:case"end":return n.stop()}}),n)})))()},cancelIsEditing:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.tasks=e.tasks.map((function(e){return e._id===t?Object(r["a"])(Object(r["a"])({},e),{},{name:e.nameCached}):e})),e.toggleIsEditing(t);case 2:case"end":return n.stop()}}),n)})))()}}},l=d,p=(n("0e4c"),n("2877")),m=Object(p["a"])(l,a,s,!1,null,"19f8d1dc",null);e["default"]=m.exports},d81d:function(t,e,n){"use strict";var a=n("23e7"),s=n("b727").map,r=n("1dde"),i=r("map");a({target:"Array",proto:!0,forced:!i},{map:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-0cf34a46.c267f1e7.js.map